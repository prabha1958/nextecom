(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[308],{4413:function(e,t,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/womenclothe/[slug]",function(){return s(531)}])},531:function(e,t,s){"use strict";s.r(t),s.d(t,{__N_SSG:function(){return v},default:function(){return _}});var l=s(5893),a=s(7297),r=s(5675),c=s.n(r),n=s(6803),i=s.n(n),d=s(6888),x=s(7294),m=s(7288),h=s(1664),o=s.n(h),u=s(9783),f=s(2844),p=s(1359),j=s(3247),g=s(6318),N=s(661),y=s(6353);function w(){let e=(0,a.Z)(["*[_type == 'womensclothe' && category == '","']"]);return w=function(){return e},e}function b(e){let{womenclothe:t}=e,s=i()(d.L),[a,r]=(0,x.useState)(0),[n,h]=(0,x.useState)(),{currentUser:b}=(0,u.E)(),[v,_]=(0,x.useState)(!1),[E,S]=(0,x.useState)(),[Z,k]=(0,x.useState)(t.category),C=(t.mrp-t.saleprice)/t.mrp*100,[O,I]=(0,x.useState)(),[J,z]=(0,x.useState)(),[A,L]=(0,x.useState)();(0,x.useEffect)(()=>{(async function(){let e=(0,m.Z)(w(),Z),t=await d.L.fetch(e);h(t)})()},[]),(0,x.useEffect)(()=>{(async function(){if(b){let e=(0,j.IO)((0,j.hJ)(g.db,"ratings"),(0,j.ar)("userid","==",b.uid),(0,j.ar)("pid","==",t.slug.current));(0,j.cf)(e,e=>{e.docs.forEach(e=>{S(e.data().rate)})})}})()},[t.slug.current]);let P=()=>{_(!1)},R=(n||[]).filter(e=>e.slug.current!==t.slug.current);return(0,x.useEffect)(()=>{(async function(){let e=(0,j.IO)((0,j.hJ)(g.db,"ratings"),(0,j.ar)("pid","==",t.slug.current));(0,j.cf)(e,e=>{let t=[];e.docs.forEach(e=>{t.push(e.data().rate);let s=0;for(let e=0;e<t.length;e++)s+=t[e];I(s/t.length)})})})()},[t.slug.current]),(0,x.useEffect)(()=>{b&&async function(){let e=(0,j.IO)((0,j.hJ)(g.db,"reviews"),(0,j.ar)("pid","==",t._id));(0,j.cf)(e,e=>{let t=[];e.docs.forEach(e=>{t.push(e.data().rev)}),L(t.filter(e=>e.userid==b.id)),z(t)})}()},[]),(0,l.jsxs)("div",{className:"w-full mt-12 ",children:[(0,l.jsx)("div",{className:"w-full text-center py-3",children:(0,l.jsx)("h1",{className:"text-xl font-bold text-themed4",children:t.name})}),(0,l.jsxs)("div",{className:"max-w-7xl mx-auto flex flex-col md:flex-row itmes-center justify-center px-2 mb-8 mt-8 ",children:[(0,l.jsxs)("div",{className:"flex-1 flex gap-3  items-center justify-center",children:[(0,l.jsx)("div",{className:"grid grid-cols-1 gap-2 ",children:t.image&&t.image.map((e,n)=>(0,l.jsx)(c(),{className:n==a?"border-2 border-themered":"border border-themed3",style:{cursor:"pointer"},src:s.image(e).width(70).height(90).url(),width:70,height:90,alt:t.name,onClick:()=>r(n)}))}),(0,l.jsx)("div",{className:" flex items-center justify-center  ",children:(0,l.jsx)(c(),{className:"object-cover",src:s.image(t.image[a]).width(450).height(500).url(),width:450,height:500,alt:t.name})})]}),(0,l.jsxs)("div",{className:"flex-1 flex flex-col px-6 mt-10 md:mt-0 items-start ",children:[(0,l.jsx)("p",{className:"text-2xl font-extrabold text-themed4",children:t.shortdesc}),(0,l.jsx)(N.Z,{rate:O}),(0,l.jsx)("p",{className:"text-sm font-medium text-gray-500",children:t.fulldesc[0]}),(0,l.jsxs)("div",{className:"flex flex-col mt-8 items-start space-y-2",children:[(0,l.jsxs)("p",{className:"px-4 py-1 bg-themered rounded-lg text-white text-xl",children:[Math.trunc(C)," %  off"]}),(0,l.jsxs)("p",{className:"text-2xl font-bold text-gray-900 ",children:["₹ ",t.saleprice," ",(0,l.jsxs)("span",{className:"text-xs font-thin text-gray-600 line-through",children:["mrp :₹ ",t.mrp]})]}),(0,l.jsxs)("p",{className:"text-xs font-bold text-gray-400",children:["( ₹",t.mrp-t.saleprice," off )"]})]}),(0,l.jsxs)("div",{className:" flex items-start mt-8 justify-sgart gap-2",children:[(0,l.jsx)("button",{className:"text-md rounded-lg font-thin bg-themered text-themel4 px-4 py-2",children:"By Now"}),(0,l.jsx)("button",{className:"text-md rounded-lg font-thin bg-themeblue text-themel4 px-4 py-2 ",children:"Add to cart"})]}),(0,l.jsxs)("div",{className:"flex flex-col mt-8 items-start space-y-2",children:[(0,l.jsxs)("p",{children:[(0,l.jsx)("span",{className:"text-sm font-light text-gray-800",children:"Color:"}),"\xa0",(0,l.jsx)("span",{className:"text-sm text-bold text-gray-600",children:t.color})]}),(0,l.jsxs)("p",{children:[(0,l.jsx)("span",{className:"text-sm font-light text-gray-800",children:"Size:"}),"\xa0",(0,l.jsx)("span",{className:"text-sm text-bold text-gray-600",children:t.size})]})]}),(0,l.jsx)("div",{className:"flex items-start mt-8 justify-sgart",children:(0,l.jsx)("p",{className:"text-xl font-bold text-themed4",children:"About the product"})}),(0,l.jsx)("div",{className:" flex flex-col items-start mt-8 justify-sgart gap-2",children:t.fulldesc&&t.fulldesc.map((e,t)=>(0,l.jsxs)("p",{className:"text-sm font-semibold text-gray-600",children:[t+1,". ",e]},t))})]})]}),(0,l.jsxs)("div",{className:"max-w-7xl mx-auto my-8 ",children:[(0,l.jsx)("hr",{className:"w-full h-1 bg-themed4 "}),(0,l.jsxs)("div",{className:"w-full text-center",children:[(0,l.jsx)("h1",{className:"text-xl font-bold text-themed4 my-5",children:"Other related products"}),(0,l.jsx)("div",{className:"w-full flex flex-col md:flex-row items-center justify-center gap-2",children:R&&R.map((e,t)=>(0,l.jsx)(o(),{href:"/womenclothe/".concat(e.slug.current),children:(0,l.jsx)(y.Z,{other:e})}))})]})]}),(0,l.jsx)("div",{className:" max-w-7xl mx-auto  my-2 flex items-start px-2",children:(0,l.jsxs)("div",{className:"max-w-4xl py-2",children:[(0,l.jsxs)("div",{className:"flex items-center justify-center gap-4 mb-5",children:[b&&!A&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("p",{className:"text-xl font-bold text-themed4 ",children:"Reviews"}),(0,l.jsxs)("div",{className:"mt-2 text-left",children:[(0,l.jsx)("p",{onClick:()=>_(!0),className:"text-sm font-medium text-themed4 cursor-pointer",children:"Rate and review this product"}),v&&(0,l.jsx)(f.Z,{handleClose:P,pid:t._id,name:b.displayName})]})]}),J&&(0,l.jsx)("div",{})]}),b&&!E&&(0,l.jsx)(p.Z,{pid:t.slug.current}),(0,l.jsxs)("div",{className:"flex items-center justify-center gap-2",children:[b&&E&&(0,l.jsx)("p",{children:"your rating is"}),E&&(0,l.jsx)(N.Z,{rate:E})]})]})})]})}var v=!0;function _(e){let{womenclothe:t}=e;return(0,l.jsx)("div",{children:(0,l.jsx)(b,{womenclothe:t})})}}},function(e){e.O(0,[774,888,179],function(){return e(e.s=4413)}),_N_E=e.O()}]);