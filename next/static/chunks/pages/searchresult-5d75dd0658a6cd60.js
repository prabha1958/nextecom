(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[417],{9850:function(e,t,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/searchresult",function(){return s(673)}])},673:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return y}});var n=s(5893),l=s(1163),r=s(7297),a=s(7294),c=s(7288),i=s(6888),u=s(5675),x=s.n(u),h=s(6803),d=s.n(h),o=s(3247),f=s(6318),m=s(661);let p=d()(i.L);function g(e){let{data:t}=e,s=(0,l.useRouter)(),[r,c]=(0,a.useState)(),i=()=>{s.push({pathname:"/product",query:{pid:t._id,slug:t.slug.current,ptype:t._type}})};return(0,a.useEffect)(()=>{let e=(0,o.IO)((0,o.hJ)(f.db,"ratings"),(0,o.ar)("pid","==",t.slug.current));(0,o.cf)(e,e=>{let t=[];e.docs.forEach(e=>{t.push(e.data().rate);let s=0;for(let e=0;e<t.length;e++)s+=t[e];c(s/t.length)})})},[t.slug.current]),(0,n.jsx)(n.Fragment,{children:(0,n.jsxs)("div",{onClick:i,className:" w-full flex  items-center justify-between gap-3 hover:bg-slate-200 cursor-pointer ",children:[(0,n.jsx)(x(),{className:" object-fill  w-44 h-36",src:p.image(t.image[0]).width(250).height(170).url(),width:250,height:170,alt:t.name}),(0,n.jsxs)("div",{className:" w-96 h-40  text-left",children:[(0,n.jsx)("p",{className:"text-sm my-3 px-2  font-medium text-gray-800",children:t.name}),(0,n.jsx)(m.Z,{rate:r}),(0,n.jsxs)("p",{className:"text-xs font-bold text-gray-900 ",children:["₹ ",t.saleprice," ",(0,n.jsxs)("span",{className:"text-xs font-thin text-gray-600 line-through",children:["mrp :₹ ",t.mrp]})]}),(0,n.jsxs)("p",{className:"text-xs font-bold text-gray-400",children:["( ₹",t.mrp-t.saleprice," off )"]})]})]})})}function j(){let e=(0,r.Z)(["*[tags match '","*']"]);return j=function(){return e},e}function N(e){let{searchstr:t}=e,[s,l]=(0,a.useState)();return(0,a.useEffect)(()=>{(async function(){let e=(0,c.Z)(j(),t),s=await i.L.fetch(e);l(s)})()},[t]),console.log(s),(0,n.jsx)("div",{className:"w-full ",children:(0,n.jsx)("div",{className:"max-w-7xl mx-auto  ",children:(0,n.jsxs)("div",{className:" mt-4 flex flex-col items-start justify-center ",children:[(0,n.jsxs)("div",{className:"w-full flex items-center justify-center mt-16 px-7 py-6 bg-gray-200",children:[s&&""==!s.length&&(0,n.jsxs)("p",{className:"text-sm font-bold  text-themed4",children:["search results for ",(0,n.jsx)("span",{className:"text-sm font-bold text-themeblue",children:t})," and beyond"]}),s&&""==s.length&&(0,n.jsxs)("p",{className:"text-sm font-bold  text-themered",children:["no results for search string ",(0,n.jsx)("span",{className:"text-sm font-bold text-themed4",children:t})," "]})]}),(0,n.jsx)("div",{className:" my-8 flex flex-col items-start space-y-3 px-3",children:s&&s.map(e=>(0,n.jsx)(g,{data:e}))})]})})})}function y(){let e=(0,l.useRouter)(),{searchvalue:t}=e.query;return(0,n.jsx)("div",{children:t&&(0,n.jsx)(N,{searchstr:t})})}}},function(e){e.O(0,[774,888,179],function(){return e(e.s=9850)}),_N_E=e.O()}]);